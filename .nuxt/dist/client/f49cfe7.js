(window.webpackJsonp=window.webpackJsonp||[]).push([[15,7],{557:function(t,e,r){var n=r(29),o=r(72),l=["class","staticClass","style","staticStyle","attrs"];function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}r(24),r(20),r(13),r(19),r(7),r(25),r(16),r(26),t.exports={functional:!0,render:function(t,e){var r=e._c,data=(e._v,e.data),f=e.children,v=void 0===f?[]:f,d=data.class,m=data.staticClass,style=data.style,h=data.staticStyle,C=data.attrs,_=void 0===C?{}:C,w=o(data,l);return r("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[d,m],style:[{"enable-background":"new 0 0 405.272 405.272"},style,h],attrs:Object.assign({version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"405.272px",height:"405.272px",viewBox:"0 0 405.272 405.272",style:"enable-background:new 0 0 405.272 405.272;","xml:space":"preserve"},_)},w),v.concat([r("g",[r("path",{attrs:{d:"M393.401,124.425L179.603,338.208c-15.832,15.835-41.514,15.835-57.361,0L11.878,227.836\r\n\t\tc-15.838-15.835-15.838-41.52,0-57.358c15.841-15.841,41.521-15.841,57.355-0.006l81.698,81.699L336.037,67.064\r\n\t\tc15.841-15.841,41.523-15.829,57.358,0C409.23,82.902,409.23,108.578,393.401,124.425z"}})]),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g"),r("g")]))}}},558:function(t,e,r){"use strict";r.r(e);var n=r(18),o=r(3),l=(r(47),r(557)),c={components:{CheckIcon:r.n(l).a},props:{initUser:{type:Object,required:!0}},data:function(){return{user:{first_name:"",last_name:""}}},methods:{syncUser:function(){Object.assign(this.user,this.initUser)},updateUser:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.put("/api/v1/profile",Object(n.a)({},t,e.user[t])).then((function(t){e.$auth.fetchUser()}));case 2:case"end":return r.stop()}}),r)})))()}}},f=r(10),component=Object(f.a)(c,(function(){var t=this,e=t._self._c;return e("t-modal",{attrs:{"click-to-close":!1,name:"profile-fullname"},on:{"before-open":t.syncUser},scopedSlots:t._u([{key:"header",fn:function(){return[e("h3",[t._v("Change of first and last name")])]},proxy:!0}])},[e("template",{slot:"close"},[e("svg",{staticClass:"w-full h-full"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#close"}})])]),t._v(" "),t._v(" "),e("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.updateUser("first_name")}}},[e("label",[e("span",{staticClass:"block mb-2 opacity-80"},[t._v("Your name")]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"w-full pl-12",attrs:{placeholder:"Enter your name"},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/user.svg",alt:""}}),t._v(" "),e("t-button",{staticClass:"absolute transform -translate-y-1/2 right-2 top-1/2",attrs:{type:"submit",variant:"primary"}},[e("span",{staticClass:"hidden lg:block"},[t._v("Save")]),t._v(" "),e("CheckIcon",{staticClass:"w-4 h-4 lg:hidden",attrs:{fill:"#fff"}})],1)],1)])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateUser("last_name")}}},[e("label",[e("span",{staticClass:"block mb-2 opacity-80"},[t._v("Your Lastname")]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"w-full pl-12",attrs:{placeholder:"Your Lastname"},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/user.svg",alt:""}}),t._v(" "),e("t-button",{staticClass:"absolute transform -translate-y-1/2 right-2 top-1/2",attrs:{type:"submit",variant:"primary"}},[e("span",{staticClass:"hidden lg:block"},[t._v("Save")]),t._v(" "),e("CheckIcon",{staticClass:"w-4 h-4 lg:hidden",attrs:{fill:"#fff"}})],1)],1)])])],2)}),[],!1,null,null,null);e.default=component.exports},559:function(t,e,r){var n=r(29),o=r(72),l=["class","staticClass","style","staticStyle","attrs"];function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}r(24),r(20),r(13),r(19),r(7),r(25),r(16),r(26),t.exports={functional:!0,render:function(t,e){var r=e._c,data=(e._v,e.data),f=e.children,v=void 0===f?[]:f,d=data.class,m=data.staticClass,style=data.style,h=data.staticStyle,C=data.attrs,_=void 0===C?{}:C,w=o(data,l);return r("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){n(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[d,m],style:[style,h],attrs:Object.assign({fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg"},_)},w),v.concat([r("path",{attrs:{"clip-rule":"evenodd",d:"m3.36827 3.36827c-3.36827 3.36827-3.36827 8.78943-3.36827 19.63173v2c0 10.8423 0 16.2635 3.36827 19.6317 3.36827 3.3683 8.78943 3.3683 19.63173 3.3683h2c10.8423 0 16.2635 0 19.6317-3.3683 3.3683-3.3682 3.3683-8.7894 3.3683-19.6317v-2c0-10.8423 0-16.26346-3.3683-19.63173-3.3682-3.36827-8.7894-3.36827-19.6317-3.36827h-2c-10.8423 0-16.26346 0-19.63173 3.36827zm6.13183 11.63173h3.5008c.8947 0 1.2313.3915 1.5668 1.3607 1.7122 4.9864 4.5991 9.3442 5.7859 9.3442.445 0 .6492-.2049.6492-1.3349v-5.1542c-.0804-1.4671-.593-2.1016-.9727-2.5715-.2345-.2903-.4183-.5177-.4183-.8398 0-.3915.3346-.8045.8908-.8045h5.5013c.7419 0 1.0002.3966 1.0002 1.2866v6.9339c0 .7415.3221 1.0011.5446 1.0011.4451 0 .816-.2596 1.632-1.0753 2.522-2.8181 4.3022-7.1565 4.3022-7.1565.2226-.519.633-.9898 1.5231-.9898h3.5008c1.0587 0 1.2812.5449 1.0587 1.2866-.4451 2.0393-4.7103 8.0463-4.7103 8.0463-.3709.5932-.5192.8899 0 1.5573.1829.256.573.6381 1.0195 1.0753.459.4495.9776.9574 1.3913 1.4462 1.5038 1.6913 2.6371 3.1182 2.9528 4.1016.2885.9867-.2116 1.4867-1.2119 1.4867h-3.5008c-.9377 0-1.4098-.5251-2.4301-1.6598-.4325-.481-.9634-1.0715-1.67-1.7779-2.077-2.0023-2.9671-2.2619-3.4864-2.2619-.7046 0-.9154.1996-.9154 1.1996v3.1388c0 .8612-.2753 1.3612-2.5006 1.3612-3.7089 0-7.7847-2.2512-10.6776-6.4041-4.33934-6.0811-5.5262-10.679-5.5262-11.6061 0-.519.20006-.9898 1.2003-.9898z","fill-rule":"evenodd"}})]))}}},589:function(t,e,r){"use strict";r.r(e);var n=r(18),o=r(3),l=(r(89),r(7),r(47),r(224)),c=r.n(l),f=r(557),v=r.n(f),d=r(559),m=r.n(d),h=r(558),C={components:{EditIcon:c.a,CheckIcon:v.a,ModalProfileFullname:h.default,VkIcon:m.a},data:function(){return{user:{username:"",email:"",referenceCode:"",otherCode:"",password:"",password_confirmation:""}}},mounted:function(){var t=this;Object.assign(this.user,this.$auth.user);var e=this.$auth.user.id;console.log(e),this.$axios.post("http://localhost:3334/getReferenceSystem",{id:e}).then((function(e){var data=e.data;if("yes"==data.status)alert(data.error);else{var r=data.otherCode,n=data.referenceCode;t.user.otherCode=r,t.user.referenceCode=n}}))},methods:{changeReference1:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:alert("Your reference code cannot be changed.");case 1:case"end":return t.stop()}}),t)})))()},changeReference2:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.user.otherCode,t.$auth.user.id,t.$axios.post("http://localhost:3334/inviteReference",{id:14,code:"158575"}).then((function(e){var data=e.data;"yes"==data.status?(alert(data.error),t.$router.go()):(alert("Successfull"),t.$router.go())}));case 3:case"end":return e.stop()}}),e)})))()},updateUser:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.put("/api/v1/profile",Object(n.a)({},t,e.user[t])).then((function(t){e.$auth.fetchUser()}));case 2:case"end":return r.stop()}}),r)})))()},updatePassword:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.put("/api/v1/profile",{password:t.user.password,password_confirmation:t.user.password_confirmation}).then((function(e){t.$auth.fetchUser()}));case 2:case"end":return e.stop()}}),e)})))()},connectVk:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$auth.strategy.token.get(),e.next=3,t.$auth.loginWith("vkontakte",{params:{state:r,jwt:r,asd:"asd"}});case 3:case"end":return e.stop()}}),e)})))()},updateAvatar:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("avatar",t.target.files[0]),r.next=4,e.$axios.put("/api/v1/profile",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$auth.fetchUser()}));case 4:case"end":return r.stop()}}),r)})))()},hasSocial:function(t){return!(!this.$auth.user.socials.length||!this.$auth.user.socials.find((function(e){return e.provider===t})))}}},_=r(10),component=Object(_.a)(C,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"container"},[e("modal-profile-fullname",{attrs:{"init-user":t.user}}),t._v(" "),e("h1",{staticClass:"flex items-center mb-6 text-2xl font-black uppercase"},[e("span",{staticClass:"flex-1"},[t._v(t._s(t.$t("your-profile")))])]),t._v(" "),e("div",{staticClass:"grid grid-cols-4 gap-3"},[e("div",{staticClass:"col-span-4 space-y-3 lg:col-span-1"},[e("div",{staticClass:"p-8 bg-white rounded-xl"},[e("div",{staticClass:"flex items-center space-x-4"},[e("div",{staticClass:"relative rounded-full cursor-pointer group"},[e("img",{staticClass:"w-24 h-24 rounded-full",attrs:{src:t.$auth.user.avatar,alt:t.$auth.user.username}}),t._v(" "),e("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("select-image"),expression:"$t('select-image')"}],staticClass:"absolute flex items-center justify-center w-full h-full transition duration-500 transform -translate-x-1/2 -translate-y-1/2 bg-gray-400 rounded-full opacity-0 cursor-pointer bg-opacity-20 top-1/2 left-1/2 group-hover:opacity-100",attrs:{for:"avatar"}},[e("img",{attrs:{src:"/img/icon/upload.svg",alt:""}})]),t._v(" "),e("input",{staticClass:"hidden",attrs:{id:"avatar",type:"file",name:"avatar"},on:{change:t.updateAvatar}})]),t._v(" "),e("div",{staticClass:"flex flex-col"},[e("p",[t._v("\n              "+t._s(t.$t("fullname"))+"\n            ")]),t._v(" "),e("div",{staticClass:"flex items-center"},[e("p",{staticClass:"flex items-center font-semibold text-md"},[t._v("\n                "+t._s(t.user.fullname?t.user.fullname:"Setup")+"\n                "),e("button",{staticClass:"ml-1 transition-all rounded-md bg-cream hover:bg-primary",attrs:{type:"button"},on:{click:function(e){return t.$modal.show("profile-fullname")}}},[e("EditIcon")],1)])])])])]),t._v(" "),e("div",{staticClass:"p-8 bg-white rounded-xl"},[e("h2",{staticClass:"mb-3 text-lg font-semibold leading-none"},[t._v("\n          "+t._s(t.$t("socials"))+"\n        ")]),t._v(" "),e("div",{staticClass:"flex flex-col space-y-3"},[e("t-button",{staticClass:"text-white bg-google",attrs:{variant:"strong"}},[t._v(t._s(t.$t("connect"))+" Google")]),t._v(" "),e("t-button",{staticClass:"text-white bg-facebook",attrs:{variant:"strong"}},[t._v(t._s(t.$t("connect"))+" Facebook")])],1)])]),t._v(" "),e("div",{staticClass:"col-span-4 lg:col-span-3"},[e("div",{staticClass:"p-8 bg-white rounded-xl"},[e("div",{staticClass:"grid grid-cols-1 gap-3 lg:grid-cols-1"},[e("div",{staticClass:"space-y-3"},[e("h2",{staticClass:"mb-3 text-lg font-semibold"},[t._v("\n              Reference System\n            ")]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.changeReference1()}}},[e("label",[e("span",{staticClass:"block mb-2 opacity-80"},[t._v("Your Reference Code")]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"w-full pl-12",attrs:{"aria-readonly":"true"},model:{value:t.user.referenceCode,callback:function(e){t.$set(t.user,"referenceCode",e)},expression:"user.referenceCode"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/link.svg",alt:""}}),t._v(" "),e("t-button",{staticClass:"absolute transform -translate-y-1/2 right-2 top-1/2",attrs:{type:"submit",variant:"primary"}},[e("span",{staticClass:"hidden lg:block"},[t._v("Change")]),t._v(" "),e("CheckIcon",{staticClass:"w-4 h-4 lg:hidden",attrs:{fill:"#fff"}})],1)],1)])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.changeReference2()}}},[e("label",[e("span",{staticClass:"block mb-2 opacity-80"},[t._v("Your Friend Reference Code")]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"w-full pl-12",attrs:{"aria-readonly":"true"},model:{value:t.user.otherCode,callback:function(e){t.$set(t.user,"otherCode",e)},expression:"user.otherCode"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/link.svg",alt:""}}),t._v(" "),e("t-button",{staticClass:"absolute transform -translate-y-1/2 right-2 top-1/2",attrs:{type:"submit",variant:"primary"}},[e("span",{staticClass:"hidden lg:block"},[t._v("Change")]),t._v(" "),e("CheckIcon",{staticClass:"w-4 h-4 lg:hidden",attrs:{fill:"#fff"}})],1)],1)])])])])])]),t._v(" "),e("div",{staticClass:"col-span-4 lg:col-span-5"},[e("div",{staticClass:"p-8 bg-white rounded-xl"},[e("div",{staticClass:"grid grid-cols-1 gap-3 lg:grid-cols-2"},[e("div",{staticClass:"space-y-3"},[e("h2",{staticClass:"mb-3 text-lg font-semibold"},[t._v("\n              "+t._s(t.$t("information"))+"\n            ")]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateUser("username")}}},[e("label",[e("span",{staticClass:"block mb-2 opacity-80"},[t._v(t._s(t.$t("your-login")))]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"w-full pl-12",model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/link.svg",alt:""}}),t._v(" "),e("t-button",{staticClass:"absolute transform -translate-y-1/2 right-2 top-1/2",attrs:{type:"submit",variant:"primary"}},[e("span",{staticClass:"hidden lg:block"},[t._v(t._s(t.$t("save")))]),t._v(" "),e("CheckIcon",{staticClass:"w-4 h-4 lg:hidden",attrs:{fill:"#fff"}})],1)],1)])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateUser("email")}}},[e("label",{staticClass:"block"},[e("span",{staticClass:"block mb-2 opacity-80"},[t._v(t._s(t.$t("your-email"))+" *")]),t._v(" "),e("div",{staticClass:"relative mb-2"},[e("t-input",{staticClass:"w-full pl-12",attrs:{type:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/email.svg",alt:""}}),t._v(" "),e("t-button",{staticClass:"absolute transform -translate-y-1/2 right-2 top-1/2",attrs:{type:"submit",variant:"primary"}},[e("span",{staticClass:"hidden lg:block"},[t._v(t._s(t.$t("save")))]),t._v(" "),e("CheckIcon",{staticClass:"w-4 h-4 lg:hidden",attrs:{fill:"#fff"}})],1)],1),t._v(" "),e("small",{staticClass:"block"},[t._v("* "+t._s(t.$t("your-email-description")))])])])]),t._v(" "),e("div",[e("h2",{staticClass:"mb-3 text-lg font-semibold"},[t._v("\n              "+t._s(t.$t("change-password"))+"\n            ")]),t._v(" "),e("form",{staticClass:"space-y-3",on:{submit:function(e){return e.preventDefault(),t.updatePassword.apply(null,arguments)}}},[e("label",{staticClass:"block"},[e("span",{staticClass:"block mb-2 opacity-80"},[t._v(t._s(t.$t("new-password")))]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"pl-12",attrs:{type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/password.svg",alt:""}})],1)]),t._v(" "),e("label",{staticClass:"block"},[e("span",{staticClass:"block mb-2 opacity-80"},[t._v(t._s(t.$t("repeat-new-password")))]),t._v(" "),e("div",{staticClass:"relative"},[e("t-input",{staticClass:"pl-12",attrs:{type:"password"},model:{value:t.user.password_confirmation,callback:function(e){t.$set(t.user,"password_confirmation",e)},expression:"user.password_confirmation"}}),t._v(" "),e("img",{staticClass:"absolute w-8 h-4 transform -translate-y-1/2 left-3 top-1/2",attrs:{src:"/img/icon/password.svg",alt:""}})],1)]),t._v(" "),e("t-button",{staticClass:"w-full",attrs:{variant:"primary"}},[t._v(t._s(t.$t("save")))])],1)])])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ModalProfileFullname:r(558).default})}}]);