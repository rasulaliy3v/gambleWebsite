(window.webpackJsonp=window.webpackJsonp||[]).push([[12,4,5,6],{562:function(t,e,n){var content=n(569);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(71).default)("4bc6c620",content,!0,{sourceMap:!1})},568:function(t,e,n){"use strict";n(562)},569:function(t,e,n){var r=n(70)((function(i){return i[1]}));r.push([t.i,'.crash__wrapper{overflow:hidden;position:relative}.crash__lines{grid-gap:1.5rem;display:grid;font-size:12px;font-weight:500;gap:1.5rem;width:40px}@media (min-width:640px){.crash__lines{gap:2.5rem}}@media (min-width:768px){.crash__lines{gap:4.5rem}}@media (min-width:1280px){.crash__lines{gap:6.5rem}}.crash__line{position:relative;text-align:right}.crash__line:after{border-top:1px dashed #e3e2df;content:"";position:absolute;right:-10px;top:50%;transform:translateY(-50%) translateX(100%);width:100vw}.crash__countdown{align-items:center;display:flex;flex-direction:column;font-size:16px;font-weight:700;justify-content:center;left:50%;position:absolute;text-align:center;top:50%;transform:translate(-50%,-50%)}@media (min-width:768px){.crash__countdown{font-size:20px}}@media (min-width:1024px){.crash__countdown{font-size:24px}}.crash__start-at{font-size:16px;font-weight:600}@media (min-width:768px){.crash__start-at{font-size:18px}}@media (min-width:1024px){.crash__start-at{font-size:20px}}.crash__rate{grid-gap:.5rem;bottom:0;display:grid;font-size:20px;font-weight:600;gap:.5rem;height:100%;left:0;position:absolute;width:100%}.crash__background{stroke:#ffb200;height:25px;transition:all .3s linear;width:75px}@media (min-width:768px){.crash__background{height:40px;width:85px}}.crash__ticker{font-size:10px;font-weight:600;left:0;position:absolute;transform:translateY(50%)}@media (min-width:768px){.crash__ticker{font-size:14px}}.crash__ticker:after{border-top:1.5px dashed hsla(45,7%,88%,.85);content:"";position:absolute;right:3px;top:50%;transform:translate(100%,-50%);width:100vw;z-index:-1}.crash__ticker--count{align-items:center;border-radius:8px;justify-content:center;left:50%;text-align:center;top:50%;transform:translate(-55%,-50%)}.crash__chart,.crash__ticker--count{display:flex;height:100%;position:absolute}.crash__chart{align-items:flex-end;bottom:50%;right:0;transform:translateY(50%);width:calc(100% - 50px)}',""]),r.locals={},t.exports=r},573:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{step:1}},watch:{step:function(t){t<=0&&(this.step=1)}},methods:{nextStep:function(){if(3===this.step)return this.$modal.hide("crash-instruction");this.step+=1}}},o=n(10),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("t-modal",{attrs:{"click-to-close":!1,name:"crash-instruction"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h3",[t._v("How can I play ?")])]},proxy:!0}])},[e("template",{slot:"close"},[e("svg",{staticClass:"w-full h-full"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#close"}})])]),t._v(" "),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}]},[e("p",[t._v("\n      Enter the amount of the bet and the value of auto-withdrawal (optional) - with the selected\n       auto-withdrawal, you will automatically collect the winnings upon reaching the specified\n       coefficient.\n    ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step === 2"}]},[e("p",[t._v('Click "Place a bet" and watch the graph grow.')])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step === 3"}]},[e("p",[t._v('\n      Press the "Collect" button before the graph collapses and the money is burned,\n       or pick them up using auto-withdrawal.\n    ')])]),t._v(" "),e("div",{staticClass:"flex items-center flex-wrap mt-3 space-x-3"},[e("t-button",{attrs:{variant:"white"},on:{click:function(e){t.step-=1}}},[e("div",{staticClass:"flex justify-center"},[e("svg",{staticClass:"w-4 opacity-70 h-3 ml-2 transform -rotate-180 origin-center"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#arr-next"}})])])]),t._v(" "),e("t-button",{staticClass:"flex-1",attrs:{variant:"primary"},on:{click:t.nextStep}},[e("div",{staticClass:"flex items-center justify-center"},[t.step<3?[e("span",{staticClass:"hidden md:inline-block"},[t._v("Next Step ")]),t._v(" "),e("span",{staticClass:"md:hidden"},[t._v(" Further ")])]:[e("span",[t._v("Start earning! ")])],t._v(" "),e("svg",{staticClass:"w-5 h-3 ml-2"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#arr-next"}})])],2)])],1)],2)}),[],!1,null,null,null);e.default=component.exports},578:function(t,e,n){"use strict";n.r(e);n(332),n(24),n(20),n(13),n(19),n(25),n(16),n(26);var r=n(18),o=(n(51),n(221),n(7),n(91),n(90),n(109));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={props:{socket:{type:Object,required:!0}},data:function(){return{maxLines:4,timeleft:0,interval:null,loaded:!1,isActive:!0,hidden:null,visibilityChange:null}},computed:l(l({},Object(o.d)({rate:function(t){return t.crash.rate}})),{},{pathD:function(){var t=this.crashChartContainerWidth,e=this.chartHeight,n=t/3,r=e/2,o="M ".concat(8,",").concat(e-8),c="".concat(n,",").concat(r),l="".concat(2*n,",").concat(r),h="".concat(t-8,",").concat(e-8),f="Q ".concat(n/3*2,",").concat(e-r/3),d="Q ".concat(t/2,",0"),v="Q ".concat(2*n+n/3,",").concat(e-r/3);return"".concat(o," ").concat(f," ").concat(c," ").concat(d," ").concat(l," ").concat(v," ").concat(h)},percent:function(){var t=100*this.rate-100;return t>=100?100:t},crashChartContainerWidth:function(){return this.loaded?this.$refs.crashChartContainer.clientWidth-30:0},chartWrapperHeight:function(){return this.loaded?this.$refs.crashWrapper.clientHeight/3*2:0},chartWrapperWidth:function(){return this.loaded?this.$refs.crashWrapper.clientWidth:0},chartHeight:function(){var t=parseFloat((100*this.rate-100)*(this.chartWrapperHeight/100));return t<30||!this.isActive?30:t>=this.chartWrapperHeight?this.chartWrapperHeight-2:t-2},endRange:function(){return 1.5*this.rate},numbers:function(){for(var t=this.endRange/this.maxLines,e=[1],i=0;i<this.maxLines-2;i++){var n=parseFloat((e[i]+t).toFixed(2));e.push(n)}return e.push(this.endRange),e.sort((function(a,b){return a+b})).map((function(t){var e=t.toString().split(".");return"".concat(e[0],".").concat(e.length>1?e[1].split("")[0]:0,"0")}))}}),beforeMount:function(){var t=this;window.addEventListener("resize",this.handleResize),this.socket.on("game:status",(function(data){data.timeleft>0&&(t.timeleft=data.timeleft,t.startCountDown())})).on("game:new",(function(data){t.SET_RATE(1),t.timeleft=data.timeleft,clearInterval(t.interval),t.startCountDown()})).on("game:tick",(function(data){t.isActive&&t.SET_RATE(data.rate)})).on("game:final",(function(data){})),void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.$nextTick((function(){window.addEventListener(t.visibilityChange,t.setActive,!1)}))},mounted:function(){this.loaded=!0},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener(this.visibilityChange,this.setActive),clearInterval(this.interval)},methods:l(l({},Object(o.c)({SET_RATE:"crash/SET_RATE"})),{},{setActive:function(){this.isActive=!document[this.hidden]},startCountDown:function(){var t=this;this.isActive||(this.timeleft=0),this.interval=setInterval((function(){if(t.timeleft<=0)return clearInterval(t.interval);t.timeleft-=100}),100)},handleResize:function(){var t=this;this.loaded=!1,setTimeout((function(){t.loaded=!0}),1)}})},f=(n(568),n(10)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"crash"},[e("div",{ref:"crashWrapper",staticClass:"crash__wrapper"},[e("ul",{staticClass:"crash__lines"},t._l(t.numbers,(function(n,r){return e("li",{key:"crash-line-".concat(r),staticClass:"crash__line"},[t._v("\n        "+t._s(n)+"\n      ")])})),0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.rate>1,expression:"rate > 1"}],staticClass:"crash__rate"},[e("div",{staticClass:"crash__ticker",style:{bottom:"".concat(t.percent/2,"%")}},[e("svg",{staticClass:"crash__background"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#crash-label"}})]),t._v(" "),e("div",{staticClass:"crash__ticker--count"},[t._v("\n          "+t._s(t.rate)+"\n        ")])])]),t._v(" "),e("div",{ref:"crashChartContainer",staticClass:"crash__chart"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.timeleft>0&&t.isActive,expression:"timeleft > 0 && isActive"}],staticClass:"crash__countdown"},[e("span",{staticClass:"w-full text-center crash__start-at"},[t._v("Run through")]),t._v(" "),e("span",{staticClass:"flex items-center"},[e("svg",{staticClass:"w-6 h-5 mr-2"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#clock"}})]),t._v(t._s((t.timeleft/1e3).toFixed(1)))])]),t._v(" "),e("svg",{ref:"crashSvg",staticClass:"crash__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.crashChartContainerWidth," ").concat(t.chartHeight),width:t.chartWrapperWidth,height:t.chartHeight}},[e("defs",[e("linearGradient",{attrs:{id:"header-shape-gradient",x2:"0",y2:"1"}},[e("stop",{attrs:{offset:"0%","stop-color":"#ffb200"}}),t._v(" "),e("stop",{attrs:{offset:"40%","stop-color":"#ffb200"}}),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":"#ffffff"}})],1)],1),t._v(" "),e("path",{attrs:{stroke:"#ffb200","stroke-width":"4px",fill:"url(#header-shape-gradient) transparent","stroke-linecap":"round",d:t.pathD}})])])])])}),[],!1,null,null,null);e.default=component.exports},579:function(t,e,n){"use strict";n.r(e);n(332),n(20),n(13),n(19),n(25),n(26);var r=n(85),o=n(18),c=(n(221),n(89),n(7),n(16),n(222)),l=n.n(c),h=n(109);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={components:{CoinIcon:l.a},props:{socket:{type:Object,required:!0}},computed:d(d({},Object(h.b)("crash",["bets"])),{},{betsLocal:function(){return Object(r.a)(this.bets).sort((function(b,a){return a.amount-b.amount}))},userBet:function(){var t=this;return this.bets.find((function(e){return e.user.id===t.$auth.user.id&&"await"===e.status}))}}),beforeMount:function(){var t=this;this.socket.on("game:status",(function(data){t.SET_BETS(data.bets)})).on("game:new",(function(){t.SET_BETS([])})).on("bet:new",(function(e){t.PUSH_BET(e)})).on("bet:result",(function(data){t.$auth.loggedIn&&t.userBet&&data.bets.find((function(e){return e.user.id===t.$auth.user.id}))&&t.$auth.fetchUser(),data.bets.forEach((function(e){t.UPDATE_BET(e)}))}))},methods:d({},Object(h.c)({SET_BETS:"crash/SET_BETS",PUSH_BET:"crash/PUSH_BET",UPDATE_BET:"crash/UPDATE_BET"}))},m=n(10),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-12 bg-white rounded-xl"},[e("h2",{staticClass:"mb-3 font-semibold text-md"},[t._v(t._s(t.$t("room-bets")))]),t._v(" "),t.bets.length?e("div",{staticClass:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},t._l(t.betsLocal,(function(n,r){return e("div",{key:"bet-".concat(r)},[e("div",{staticClass:"flex flex-wrap items-start space-x-3 font-medium"},[e("img",{staticClass:"w-10 h-10 rounded-full",attrs:{src:n.user.avatar,alt:""}}),t._v(" "),e("div",{staticClass:"flex flex-col flex-1 overflow-hidden overflow-ellipsis"},[e("div",{staticClass:"flex items-center space-x-3"},[n.user.first_name?e("p",[t._v("\n              "+t._s(n.user.first_name)+"\n            ")]):t._e(),t._v(" "),n.user.last_name?e("p",{staticClass:"overflow-hidden whitespace-nowrap overflow-ellipsis"},[t._v("\n              "+t._s(n.user.last_name)+"\n            ")]):t._e(),t._v(" "),n.user.last_name||n.user.first_name?t._e():e("p",[t._v("\n              "+t._s(n.user.username)+"\n            ")])]),t._v(" "),e("div",{staticClass:"flex flex-wrap items-center flex-1 space-x-3"},[e("span",{staticClass:"flex items-center justify-end",class:{"text-red-400":"lose"===n.status}},[t._v("\n              "+t._s(n.amount)+"\n              "),e("CoinIcon",{staticClass:"w-4 h-4 ml-2"})],1),t._v(" "),"win"===n.status?[e("span",[t._v(" x"+t._s(n.rate_final)+" ")]),t._v(" "),e("span",[t._v("=")]),t._v(" "),e("p",{staticClass:"text-green-400"},[t._v("\n                "+t._s((n.amount*n.rate_final).toFixed(2))+"\n              ")])]:t._e()],2)])])])})),0):e("p",[t._v(t._s(t.$t("no-bets")))])])}),[],!1,null,null,null);e.default=component.exports},591:function(t,e,n){"use strict";n.r(e);n(20),n(13),n(19),n(25),n(16),n(26);var r=n(3),o=n(18),c=(n(47),n(89),n(7),n(109)),l=n(578),h=n(579),f=n(573);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={components:{crashChart:l.default,crashTable:h.default,ModalCrashInstruction:f.default},data:function(){return{bet:{amount:0,rate_auto:null},socket:null}},computed:v(v(v({},Object(c.d)({rate:function(t){return t.crash.rate}})),Object(c.b)({bets:"crash/bets"})),{},{userBet:function(){var t=this;return!!this.$auth.loggedIn&&this.bets.find((function(e){return e.user.id===t.$auth.user.id&&"await"===e.status}))},btnText:function(){return this.userBet&&1===this.rate?this.$t("await-start"):this.userBet&&this.rate>1?this.$t("withdraw-on")+" (x".concat(this.rate,")"):this.$t("make-bet")}}),watch:{"bet.amount":function(t){var e;t<0?this.bet.amount=0:this.$auth.loggedIn&&t>(null===(e=this.$auth.user)||void 0===e?void 0:e.balance)&&(this.bet.amount=this.$auth.user.balance)}},beforeMount:function(){this.socket=this.$nuxtSocket({channel:"crash",extraHeaders:{Authorization:this.$auth.strategy.token.get()}}),this.socket.emit("game:status")},methods:{betPlace:function(){var t=this;return this.$auth.loggedIn?this.rate>1&&this.userBet?this.socket.emit("bet:take"):(0===this.$auth.user.balance&&this.$notify({group:"default",type:"error",text:"Недостаточно средств"},4e3),void this.socket.emit("bet:make",this.bet,function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$notify({group:"default",type:data.status,text:data.message},4e3),"success"!==data.status){e.next=4;break}return e.next=4,t.$auth.fetchUser();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):this.$modal.show("auth")}}},_=m,w=n(10),component=Object(w.a)(_,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"container"},[e("modal-crash-instruction"),t._v(" "),e("h1",{staticClass:"flex items-center mb-6 text-2xl font-black uppercase"},[e("span",{staticClass:"flex-1"},[t._v("CRASH")]),t._v(" "),e("t-button",{attrs:{variant:"white"},on:{click:function(e){return t.$modal.show("crash-instruction")}}},[e("svg",{staticClass:"w-4 h-6"},[e("use",{attrs:{"xlink:href":"/img/icon/free/sprite.svg#info-i"}})])])],1),t._v(" "),e("div",{staticClass:"grid grid-cols-8 gap-1.5"},[e("div",{staticClass:"col-span-8 p-12 bg-white lg:col-span-3 rounded-xl"},[e("form",{staticClass:"flex flex-col",on:{submit:function(e){return e.preventDefault(),t.betPlace.apply(null,arguments)}}},[e("label",{staticClass:"mb-3 font-semibold text-md",attrs:{for:"amount"}},[t._v(t._s(t.$t("bet-amount")))]),t._v(" "),e("div",{staticClass:"mb-3 relative"},[e("t-input",{attrs:{id:"amount"},model:{value:t.bet.amount,callback:function(e){t.$set(t.bet,"amount",e)},expression:"bet.amount"}}),t._v(" "),e("div",{staticClass:"absolute top-1/2 right-3 transform -translate-y-1/2 space-x-2 flex items-center"},[e("t-button",{staticClass:"bg-gray-100 border-none w-10",attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount*=2}}},[t._v("X2")]),t._v(" "),e("t-button",{staticClass:"bg-gray-100 border-none w-10",attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount/=2}}},[t._v("1/2")])],1)],1),t._v(" "),e("div",{staticClass:"grid grid-cols-3 gap-2 mb-4 sm:grid-cols-6"},[e("t-button",{attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount+=1}}},[t._v("+1")]),t._v(" "),e("t-button",{attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount+=5}}},[t._v("+5")]),t._v(" "),e("t-button",{attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount+=10}}},[t._v("+10")]),t._v(" "),e("t-button",{attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount+=100}}},[t._v("+100")]),t._v(" "),e("t-button",{attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount+=500}}},[t._v("+500")]),t._v(" "),e("t-button",{attrs:{type:"button",variant:"outline"},on:{click:function(e){t.bet.amount+=1e5}}},[t._v("Все")])],1),t._v(" "),e("label",{staticClass:"mb-3 font-semibold text-md",attrs:{for:"auto"}},[t._v(t._s(t.$t("autocashout")))]),t._v(" "),e("t-input",{staticClass:"mb-4",attrs:{id:"auto",placeholder:t.$t("rate")},model:{value:t.bet.rate_auto,callback:function(e){t.$set(t.bet,"rate_auto",e)},expression:"bet.rate_auto"}}),t._v(" "),e("hr",{staticClass:"mt-0 mb-4 divider"}),t._v(" "),e("t-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:!t.userBet&&t.rate>1?t.$t("game-started"):""},expression:"{\n            content: !userBet && rate > 1 ? $t('game-started') : '',\n          }"}],staticClass:"!py-4",attrs:{disabled:t.rate>1&&!t.userBet||t.userBet&&1===t.rate,type:"submit",variant:"primary"}},[t._v(t._s(t.btnText))])],1)]),t._v(" "),e("div",{staticClass:"col-span-8 lg:col-span-5"},[e("div",{staticClass:"px-8 py-6 bg-white rounded-xl"},[e("crash-chart",{attrs:{socket:t.socket}})],1)]),t._v(" "),e("div",{staticClass:"col-span-8"},[e("crash-table",{attrs:{socket:t.socket}})],1)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ModalCrashInstruction:n(573).default})}}]);